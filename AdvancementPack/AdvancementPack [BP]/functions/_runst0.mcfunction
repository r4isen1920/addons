scoreboard objectives add advCount dummy
scoreboard objectives add advPercent dummy
scoreboard objectives add advPercent1 dummy
scoreboard objectives add advPercent2 dummy

scoreboard objectives add eatenFoods dummy
scoreboard objectives add tameCat dummy
scoreboard objectives add biomeOverworld dummy
scoreboard objectives add biomeNether dummy
scoreboard objectives add slainMonster dummy

scoreboard players set @s advCount 0
scoreboard players set @s eatenFoods 0
scoreboard players set @s tameCat 0
scoreboard players set @s biomeOverworld 0
scoreboard players set @s biomeNether 0
scoreboard players set @s slainMonster 0
scoreboard players set "one_hundred" advPercent 100
scoreboard players set "eighty" advPercent 80
tag @s remove has_adv

scoreboard players add @s[tag="adv1"] advCount 1
scoreboard players add @s[tag="adv2"] advCount 1
scoreboard players add @s[tag="adv3"] advCount 1
scoreboard players add @s[tag="adv4"] advCount 1
scoreboard players add @s[tag="adv5"] advCount 1
scoreboard players add @s[tag="adv6"] advCount 1
scoreboard players add @s[tag="adv7"] advCount 1
scoreboard players add @s[tag="adv8"] advCount 1
scoreboard players add @s[tag="adv9"] advCount 1
scoreboard players add @s[tag="adv10"] advCount 1
scoreboard players add @s[tag="adv11"] advCount 1
scoreboard players add @s[tag="adv12"] advCount 1
scoreboard players add @s[tag="adv13"] advCount 1
scoreboard players add @s[tag="adv14"] advCount 1
scoreboard players add @s[tag="adv15"] advCount 1
scoreboard players add @s[tag="adv16"] advCount 1
scoreboard players add @s[tag="adv17"] advCount 1
scoreboard players add @s[tag="adv18"] advCount 1
scoreboard players add @s[tag="adv19"] advCount 1
scoreboard players add @s[tag="adv20"] advCount 1
scoreboard players add @s[tag="adv21"] advCount 1
scoreboard players add @s[tag="adv22"] advCount 1
scoreboard players add @s[tag="adv23"] advCount 1
scoreboard players add @s[tag="adv24"] advCount 1
scoreboard players add @s[tag="adv25"] advCount 1
scoreboard players add @s[tag="adv26"] advCount 1
scoreboard players add @s[tag="adv27"] advCount 1
scoreboard players add @s[tag="adv28"] advCount 1
scoreboard players add @s[tag="adv29"] advCount 1
scoreboard players add @s[tag="adv30"] advCount 1
scoreboard players add @s[tag="adv31"] advCount 1
scoreboard players add @s[tag="adv32"] advCount 1
scoreboard players add @s[tag="adv33"] advCount 1
scoreboard players add @s[tag="adv34"] advCount 1
scoreboard players add @s[tag="adv35"] advCount 1
scoreboard players add @s[tag="adv36"] advCount 1
scoreboard players add @s[tag="adv37"] advCount 1
scoreboard players add @s[tag="adv38"] advCount 1
scoreboard players add @s[tag="adv39"] advCount 1
scoreboard players add @s[tag="adv40"] advCount 1
scoreboard players add @s[tag="adv41"] advCount 1
scoreboard players add @s[tag="adv42"] advCount 1
scoreboard players add @s[tag="adv43"] advCount 1
scoreboard players add @s[tag="adv44"] advCount 1
scoreboard players add @s[tag="adv45"] advCount 1
scoreboard players add @s[tag="adv46"] advCount 1
scoreboard players add @s[tag="adv47"] advCount 1
scoreboard players add @s[tag="adv48"] advCount 1
scoreboard players add @s[tag="adv49"] advCount 1
scoreboard players add @s[tag="adv50"] advCount 1
scoreboard players add @s[tag="adv51"] advCount 1
scoreboard players add @s[tag="adv52"] advCount 1
scoreboard players add @s[tag="adv53"] advCount 1
scoreboard players add @s[tag="adv54"] advCount 1
scoreboard players add @s[tag="adv55"] advCount 1
scoreboard players add @s[tag="adv56"] advCount 1
scoreboard players add @s[tag="adv57"] advCount 1
scoreboard players add @s[tag="adv58"] advCount 1
scoreboard players add @s[tag="adv59"] advCount 1
scoreboard players add @s[tag="adv60"] advCount 1
scoreboard players add @s[tag="adv61"] advCount 1
scoreboard players add @s[tag="adv62"] advCount 1
scoreboard players add @s[tag="adv63"] advCount 1
scoreboard players add @s[tag="adv64"] advCount 1
scoreboard players add @s[tag="adv65"] advCount 1
scoreboard players add @s[tag="adv66"] advCount 1
scoreboard players add @s[tag="adv67"] advCount 1
scoreboard players add @s[tag="adv68"] advCount 1
scoreboard players add @s[tag="adv69"] advCount 1
scoreboard players add @s[tag="adv70"] advCount 1
scoreboard players add @s[tag="adv71"] advCount 1
scoreboard players add @s[tag="adv72"] advCount 1
scoreboard players add @s[tag="adv73"] advCount 1
scoreboard players add @s[tag="adv74"] advCount 1
scoreboard players add @s[tag="adv75"] advCount 1
scoreboard players add @s[tag="adv76"] advCount 1
scoreboard players add @s[tag="adv77"] advCount 1
scoreboard players add @s[tag="adv78"] advCount 1
scoreboard players add @s[tag="adv79"] advCount 1
scoreboard players add @s[tag="adv81"] advCount 1
scoreboard players add @s[tag="adv82"] advCount 1
scoreboard players add @s[tag="adv83"] advCount 1
scoreboard players add @s[tag="adv84"] advCount 1
scoreboard players add @s[tag="adv85"] advCount 1
scoreboard players add @s[tag="adv86"] advCount 1
scoreboard players add @s[tag="adv87"] advCount 1
scoreboard players add @s[tag="adv88"] advCount 1
scoreboard players add @s[tag="adv89"] advCount 1
scoreboard players add @s[tag="adv90"] advCount 1
scoreboard players add @s[tag="adv91"] advCount 1

scoreboard players add @s[tag="consumed_apple"] eatenFoods 1
scoreboard players add @s[tag="consumed_baked_potato"] eatenFoods 1
scoreboard players add @s[tag="consumed_beetroot"] eatenFoods 1
scoreboard players add @s[tag="consumed_beetroot_soup"] eatenFoods 1
scoreboard players add @s[tag="consumed_bread"] eatenFoods 1
scoreboard players add @s[tag="consumed_carrot"] eatenFoods 1
scoreboard players add @s[tag="consumed_chorus_fruit"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_chicken"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_cod"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_mutton"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_porkchop"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_rabbit"] eatenFoods 1
scoreboard players add @s[tag="consumed_cooked_salmon"] eatenFoods 1
scoreboard players add @s[tag="consumed_cookie"] eatenFoods 1
scoreboard players add @s[tag="consumed_dried_kelp"] eatenFoods 1
scoreboard players add @s[tag="consumed_enchanted_golden_apple"] eatenFoods 1
scoreboard players add @s[tag="consumed_glow_berries"] eatenFoods 1
scoreboard players add @s[tag="consumed_golden_apple"] eatenFoods 1
scoreboard players add @s[tag="consumed_golden_carrot"] eatenFoods 1
scoreboard players add @s[tag="consumed_honey_bottle"] eatenFoods 1
scoreboard players add @s[tag="consumed_melon_slice"] eatenFoods 1
scoreboard players add @s[tag="consumed_mushroom_stew"] eatenFoods 1
scoreboard players add @s[tag="consumed_poisonous_potato"] eatenFoods 1
scoreboard players add @s[tag="consumed_potato"] eatenFoods 1
scoreboard players add @s[tag="consumed_pufferfish"] eatenFoods 1
scoreboard players add @s[tag="consumed_pumpkin_pie"] eatenFoods 1
scoreboard players add @s[tag="consumed_rabbit_stew"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_beef"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_chicken"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_cod"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_mutton"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_porkchop"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_rabbit"] eatenFoods 1
scoreboard players add @s[tag="consumed_raw_salmon"] eatenFoods 1
scoreboard players add @s[tag="consumed_rotten_flesh"] eatenFoods 1
scoreboard players add @s[tag="consumed_spider_eye"] eatenFoods 1
scoreboard players add @s[tag="consumed_steak"] eatenFoods 1
scoreboard players add @s[tag="consumed_suspicious_stew"] eatenFoods 1
scoreboard players add @s[tag="consumed_sweet_berries"] eatenFoods 1
scoreboard players add @s[tag="consumed_tropical_fish"] eatenFoods 1

scoreboard players add @s[tag="tamed_cat_white"] tameCat 1
scoreboard players add @s[tag="tamed_cat_tuxedo"] tameCat 1
scoreboard players add @s[tag="tamed_cat_red"] tameCat 1
scoreboard players add @s[tag="tamed_cat_siamese"] tameCat 1
scoreboard players add @s[tag="tamed_cat_british"] tameCat 1
scoreboard players add @s[tag="tamed_cat_calico"] tameCat 1
scoreboard players add @s[tag="tamed_cat_persian"] tameCat 1
scoreboard players add @s[tag="tamed_cat_ragdoll"] tameCat 1
scoreboard players add @s[tag="tamed_cat_tabby"] tameCat 1
scoreboard players add @s[tag="tamed_cat_black"] tameCat 1
scoreboard players add @s[tag="tamed_cat_jellie"] tameCat 1

scoreboard players add @s[tag="biome_bamboo_jungle"] biomeOverworld 1
scoreboard players add @s[tag="biome_bamboo_jungle_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_beach"] biomeOverworld 1
scoreboard players add @s[tag="biome_birch_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_birch_forest_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_birch_forest_hills_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_birch_forest_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_cold_beach"] biomeOverworld 1
scoreboard players add @s[tag="biome_cold_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_cold_taiga"] biomeOverworld 1
scoreboard players add @s[tag="biome_cold_taiga_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_cold_taiga_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_deep_cold_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_deep_frozen_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_deep_lukewarm_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_deep_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_deep_warm_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_desert"] biomeOverworld 1
scoreboard players add @s[tag="biome_desert_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_desert_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_extreme_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_extreme_hills_edge"] biomeOverworld 1
scoreboard players add @s[tag="biome_extreme_hills_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_extreme_hills_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_extreme_hills_mutated_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_flower_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_forest_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_frozen_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_frozen_river"] biomeOverworld 1
scoreboard players add @s[tag="biome_ice_mountains"] biomeOverworld 1
scoreboard players add @s[tag="biome_ice_plains"] biomeOverworld 1
scoreboard players add @s[tag="biome_ice_plains_spikes"] biomeOverworld 1
scoreboard players add @s[tag="biome_jungle"] biomeOverworld 1
scoreboard players add @s[tag="biome_jungle_edge"] biomeOverworld 1
scoreboard players add @s[tag="biome_jungle_edge_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_jungle_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_jungle_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_lukewarm_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_mega_spruce_taiga"] biomeOverworld 1
scoreboard players add @s[tag="biome_mega_spruce_taiga_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_mega_taiga"] biomeOverworld 1
scoreboard players add @s[tag="biome_mega_taiga_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa_bryce"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa_plateau"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa_plateau_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa_plateau_stone"] biomeOverworld 1
scoreboard players add @s[tag="biome_mesa_plateau_stone_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_mushroom_island"] biomeOverworld 1
scoreboard players add @s[tag="biome_mushroom_island_shore"] biomeOverworld 1
scoreboard players add @s[tag="biome_ocean"] biomeOverworld 1
scoreboard players add @s[tag="biome_plains"] biomeOverworld 1
scoreboard players add @s[tag="biome_river"] biomeOverworld 1
scoreboard players add @s[tag="biome_roofed_forest"] biomeOverworld 1
scoreboard players add @s[tag="biome_roofed_forest_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_savanna"] biomeOverworld 1
scoreboard players add @s[tag="biome_savanna_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_savanna_plateau"] biomeOverworld 1
scoreboard players add @s[tag="biome_savanna_plateau_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_stone_beach"] biomeOverworld 1
scoreboard players add @s[tag="biome_swamp"] biomeOverworld 1
scoreboard players add @s[tag="biome_swamp_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_taiga"] biomeOverworld 1
scoreboard players add @s[tag="biome_taiga_hills"] biomeOverworld 1
scoreboard players add @s[tag="biome_taiga_mutated"] biomeOverworld 1
scoreboard players add @s[tag="biome_warm_ocean"] biomeOverworld 1

scoreboard players add @s[tag="biome_basalt_deltas"] biomeNether 1
scoreboard players add @s[tag="biome_crimson_forest"] biomeNether 1
scoreboard players add @s[tag="biome_nether_wastes"] biomeNether 1
scoreboard players add @s[tag="biome_soulsand_valley"] biomeNether 1
scoreboard players add @s[tag="biome_warped_forest"] biomeNether 1

scoreboard players add @s[tag="killed_blaze"] slainMonster 1
scoreboard players add @s[tag="killed_cave_spider"] slainMonster 1
scoreboard players add @s[tag="killed_creeper"] slainMonster 1
scoreboard players add @s[tag="killed_drowned"] slainMonster 1
scoreboard players add @s[tag="killed_elder_guardian"] slainMonster 1
scoreboard players add @s[tag="killed_ender_dragon"] slainMonster 1
scoreboard players add @s[tag="killed_enderman"] slainMonster 1
scoreboard players add @s[tag="killed_endermite"] slainMonster 1
scoreboard players add @s[tag="killed_evocation_illager"] slainMonster 1
scoreboard players add @s[tag="killed_ghast"] slainMonster 1
scoreboard players add @s[tag="killed_guardian"] slainMonster 1
scoreboard players add @s[tag="killed_husk"] slainMonster 1
scoreboard players add @s[tag="killed_magma_cube"] slainMonster 1
scoreboard players add @s[tag="killed_phantom"] slainMonster 1
scoreboard players add @s[tag="killed_piglin"] slainMonster 1
scoreboard players add @s[tag="killed_piglin_brute"] slainMonster 1
scoreboard players add @s[tag="killed_pillager"] slainMonster 1
scoreboard players add @s[tag="killed_ravager"] slainMonster 1
scoreboard players add @s[tag="killed_shulker"] slainMonster 1
scoreboard players add @s[tag="killed_silverfish"] slainMonster 1
scoreboard players add @s[tag="killed_skeleton"] slainMonster 1
scoreboard players add @s[tag="killed_slime"] slainMonster 1
scoreboard players add @s[tag="killed_stray"] slainMonster 1
scoreboard players add @s[tag="killed_spider"] slainMonster 1
scoreboard players add @s[tag="killed_vex"] slainMonster 1
scoreboard players add @s[tag="killed_vindicator"] slainMonster 1
scoreboard players add @s[tag="killed_witch"] slainMonster 1
scoreboard players add @s[tag="killed_wither_skeleton"] slainMonster 1
scoreboard players add @s[tag="killed_wither"] slainMonster 1
scoreboard players add @s[tag="killed_zombie_pigman"] slainMonster 1
scoreboard players add @s[tag="killed_zombie_villager"] slainMonster 1
scoreboard players add @s[tag="killed_zombie"] slainMonster 1

# Count for total completed advancements (%)
scoreboard players operation @s advPercent = @s advCount
scoreboard players operation @s advPercent *= "one_hundred" advPercent
scoreboard players operation @s advPercent /= "eighty" advPercent

# Count for ongoing advancements (int)
scoreboard players set @s advPercent1 0
scoreboard players add @s[tag=!"adv79",scores={eatenFoods=1..39}] advPercent1 1
scoreboard players add @s[tag=!"adv77",scores={tameCat=1..10}] advPercent1 1
scoreboard players add @s[tag=!"adv65",scores={biomeOverworld=1..66}] advPercent1 1
scoreboard players add @s[tag=!"adv33",scores={biomeNether=1..4}] advPercent1 1
scoreboard players add @s[tag=!"adv59",scores={slainMonster=1..31}] advPercent1 1

# Count for locked advancements (%)
scoreboard players operation @s advPercent2 = "eighty" advPercent
scoreboard players operation @s advPercent2 -= @s advCount
scoreboard players operation @s advPercent2 *= "one_hundred" advPercent
scoreboard players operation @s advPercent2 /= "eighty" advPercent

tag @s[scores={advCount=1..}] add has_adv



tellraw @s {"rawtext":[{"text":"§7 §r"}]}

tellraw @s[tag=!"has_adv"] {"rawtext":[{"text":"§c"},{"translate":"chat.advancement.count.none"}]}
tellraw @s[tag="has_adv",scores={advCount=1}] {"rawtext":[{"translate":"chat.advancement.count.singular"}]}
tellraw @s[tag="has_adv",scores={advCount=2..}] {"rawtext":[{"translate":"chat.advancement.count.plural","with":{"rawtext":[{"score":{"name": "@s","objective": "advCount"}}]}}]}

tellraw @s {"rawtext":[{"text":"§7 §r"}]}
tellraw @s {"rawtext":[{"text":"§a"},{"translate":"chat.advancement.count.percent.completed","with":{"rawtext":[{"score":{"name": "@s","objective": "advPercent"}},{"text":"100"}]}},{"text":"\n§e"},{"translate":"chat.advancement.count.percent.ongoing","with":{"rawtext":[{"score":{"name": "@s","objective": "advPercent1"}}]}},{"text":"\n§c"},{"translate":"chat.advancement.count.percent.locked","with":{"rawtext":[{"score":{"name": "@s","objective": "advPercent2"}},{"text":"100"}]}}]}
tellraw @s[scores={advPercent1=1..}] {"rawtext":[{"text":"§7 §r"}]}

tellraw @s[tag=!"adv33",scores={biomeNether=1..4}] {"rawtext":[{"text":"§e[*] §r"},{"translate":"advancements.nether.explore_nether.title"},{"text":"§r §e"},{"translate":"chat.advancement.count.progress.biomes","with":{"rawtext":[{"score":{"name": "@s","objective": "biomeNether"}},{"text":"5"}]}}]}
tellraw @s[tag=!"adv59",scores={slainMonster=1..31}] {"rawtext":[{"text":"§e[*] §r"},{"translate":"advancements.adventure.kill_all_mobs.title"},{"text":"§r §e"},{"translate":"chat.advancement.count.progress.mobsKilled","with":{"rawtext":[{"score":{"name": "@s","objective": "slainMonster"}},{"text":"32"}]}}]}
tellraw @s[tag=!"adv65",scores={biomeOverworld=1..66}] {"rawtext":[{"text":"§e[*] §r"},{"translate":"advancements.adventure.adventuring_time.title"},{"text":"§r §e"},{"translate":"chat.advancement.count.progress.biomes","with":{"rawtext":[{"score":{"name": "@s","objective": "biomeOverworld"}},{"text":"67"}]}}]}
tellraw @s[tag=!"adv77",scores={tameCat=1..10}] {"rawtext":[{"text":"§e[*] §r"},{"translate":"advancements.husbandry.complete_catalogue.title"},{"text":"§r §e"},{"translate":"chat.advancement.count.progress.catsTamed","with":{"rawtext":[{"score":{"name": "@s","objective": "tameCat"}},{"text":"11"}]}}]}
tellraw @s[tag=!"adv79",scores={eatenFoods=1..39}] {"rawtext":[{"text":"§e[*] §r"},{"translate":"advancements.husbandry.balanced_diet.title"},{"text":"§r §e"},{"translate":"chat.advancement.count.progress.food","with":{"rawtext":[{"score":{"name": "@s","objective": "eatenFoods"}},{"text":"40"}]}}]}

tellraw @s[scores={advPercent1=1..},tag="has_adv_story"] {"rawtext":[{"text":"§7 §r"}]}
tellraw @s {"rawtext":[{"text":"§7 §r"}]}
